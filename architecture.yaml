env: dev

layers:
  domain: ["app/domain/**"]
  application: ["app/application/**"]
  infra: ["app/infra/**"]
  api: ["app/api/**"]

rules:
  allowed_imports:
    domain: ["domain", "application"]      # domain 계층은 infra 모르면 안 됨
    application: ["domain", "application", "infra"]
    infra: ["infra", "application"]
    api: ["api", "application", "domain"]

  forbid_new:
    - "RedisCache"
    - "StripeGateway"

bindings:
  dev:
    PaymentGateway: "FakeGateway"
    Cache: "InMemoryCache"
  prod:
    PaymentGateway: "StripeGateway"
    Cache: "RedisCache"

